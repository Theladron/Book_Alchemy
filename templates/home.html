<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
  </head>
  <body>
    <form id="sortForm" method="get" action="{{ url_for('index') }}">
  <label for="sort_by">Sortieren nach:</label>
  <select name="sort_by" id="sort_by" onchange="document.getElementById('sortForm').submit()">
    <option value="title" {% if sort_by =='title' %}selected{% endif %}>Titel</option>
    <option value="author" {% if sort_by =='author' %}selected{% endif %}>Autor</option>
    <option value="year" {% if sort_by =='year' %}selected{% endif %}>Jahr</option>
  </select>

  <label for="order">Reihenfolge:</label>
  <select name="order" id="order" onchange="document.getElementById('sortForm').submit()">
    <option value="asc" {% if order == 'asc' %}selected{% endif %}>Aufsteigend</option>
    <option value="desc" {% if order == 'desc' %}selected{% endif %}>Absteigend</option>
  </select>
</form>
    {% for poster, book, author in books %}
    <div>
      <img src="{{ poster.poster_url }}" alt="{{ book.title }}">
      <h3>{{ book.title }}</h3>
      <p>Author: {{ author.name }}</p>
    </div>
    {% endfor %}
  <script src="{{ url_for('static', filename='js/sort_handler.js') }}"></script>
  </body>
</html>